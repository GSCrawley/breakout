!function(e){var t={};function l(a){if(t[a])return t[a].exports;var d=t[a]={i:a,l:!1,exports:{}};return e[a].call(d.exports,d,d.exports,l),d.l=!0,d.exports}l.m=e,l.c=t,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var d in e)l.d(a,d,function(t){return e[t]}.bind(null,d));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);l(1);const a={canvas:null,ctx:null,ball:{x:0,y:0,dx:2,dy:-2,radius:10,color:"#FF5555",balls:[]},paddle:{x:0,width:100,height:20,dx:8,color:"#4488FF",isPowerUp:!1,powerUpType:null,powerUpTimer:0,powerUpMaxTime:1e4},bricks:[],powerUps:[],brickRowCount:6,brickColumnCount:10,brickWidth:0,brickHeight:20,brickPadding:10,brickOffsetTop:60,brickOffsetLeft:30,brickColors:["#FF5555","#FFAA55","#FFFF55","#55FF55","#55FFFF","#5555FF"],rightPressed:!1,leftPressed:!1,baseSpeed:2,startSpeed:2,speedIncrease:.2,audio:{paddleHit:null,brickHit:null,powerUp:null,lifeLost:null,gameOver:null,levelUp:null},score:0,lives:3,level:1,running:!1,paused:!1,backgroundGradient:null,lastTimestamp:0,leaderboard:[{name:"Player1",score:1500},{name:"Player2",score:1200},{name:"Player3",score:950}]},d=document.getElementById("start-screen"),i=document.getElementById("game-canvas"),n=document.getElementById("hud"),r=document.getElementById("power-up-active"),s=(document.getElementById("power-up-active-icon"),document.getElementById("power-up-name")),o=document.getElementById("power-up-timer-fill"),c=document.getElementById("game-over-screen"),h=document.getElementById("final-score"),p=document.getElementById("max-level"),u=document.getElementById("level-screen"),b=document.getElementById("level-complete-title"),y=document.getElementById("level-score"),f=document.getElementById("leaderboard-screen"),m=document.getElementById("leaderboard-entries"),g=document.getElementById("player-name"),x=document.getElementById("start-button"),w=document.getElementById("restart-button"),v=document.getElementById("next-level-button"),k=document.getElementById("leaderboard-button"),L=document.getElementById("leaderboard-button-end"),F=document.getElementById("close-leaderboard-button");function P(){a.canvas=i,a.ctx=i.getContext("2d"),E();const e=a.ctx.createLinearGradient(0,0,0,a.canvas.height);e.addColorStop(0,"#111122"),e.addColorStop(1,"#222244"),a.backgroundGradient=e,C(),a.paddle.x=(a.canvas.width-a.paddle.width)/2,a.ball.balls=[{x:a.ball.x,y:a.ball.y,dx:a.ball.dx,dy:a.ball.dy,radius:a.ball.radius,color:a.ball.color}],a.brickWidth=(a.canvas.width-2*a.brickOffsetLeft-a.brickPadding*(a.brickColumnCount-1))/a.brickColumnCount,S(),R(),H(),W(),document.addEventListener("keydown",U),document.addEventListener("keyup",M),a.canvas.addEventListener("mousemove",T),document.addEventListener("keydown",B),window.addEventListener("resize",E),a.audio={paddleHit:{play:()=>{}},brickHit:{play:()=>{}},powerUp:{play:()=>{}},lifeLost:{play:()=>{}},gameOver:{play:()=>{}},levelUp:{play:()=>{}}},a.running=!0,a.lastTimestamp=performance.now(),requestAnimationFrame(D)}function C(){a.ball.x=a.canvas.width/2,a.ball.y=a.canvas.height-50;const e=Math.random()>.5?1:-1;a.ball.dx=a.baseSpeed*e,a.ball.dy=-a.baseSpeed}function S(){a.bricks=[];for(let e=0;e<a.brickColumnCount;e++){a.bricks[e]=[];for(let t=0;t<a.brickRowCount;t++){let l=1;a.level>2&&t<2&&(l=2),a.level>4&&t<1&&(l=3);const d=e*(a.brickWidth+a.brickPadding)+a.brickOffsetLeft,i=t*(a.brickHeight+a.brickPadding)+a.brickOffsetTop,n=Math.random()<.1,r=n?I():null,s=t%a.brickColors.length;a.bricks[e][t]={x:d,y:i,width:a.brickWidth,height:a.brickHeight,status:1,hitPoints:l,color:a.brickColors[s],hasPowerUp:n,powerUpType:r}}}}function E(){const e=document.getElementById("game-container"),t=e.clientWidth,l=e.clientHeight;let d,i;t/l>800/600?(i=Math.min(600,l-40),d=i*(800/600)):(d=Math.min(800,t-40),i=d/(800/600)),a.canvas.width=d,a.canvas.height=i,a.running&&(a.brickWidth=(a.canvas.width-2*a.brickOffsetLeft-a.brickPadding*(a.brickColumnCount-1))/a.brickColumnCount,S())}function I(){const e=["widen","narrow","slowBall","fastBall","multiball","extraLife"];return e[Math.floor(Math.random()*e.length)]}function U(e){"Right"===e.key||"ArrowRight"===e.key?a.rightPressed=!0:"Left"!==e.key&&"ArrowLeft"!==e.key||(a.leftPressed=!0)}function M(e){"Right"===e.key||"ArrowRight"===e.key?a.rightPressed=!1:"Left"!==e.key&&"ArrowLeft"!==e.key||(a.leftPressed=!1)}function B(e){"p"!==e.key&&"P"!==e.key||(a.paused=!a.paused,a.paused?$():_())}function T(e){const t=e.clientX-a.canvas.getBoundingClientRect().left;t>0&&t<a.canvas.width&&(a.paddle.x=t-a.paddle.width/2,a.paddle.x<0?a.paddle.x=0:a.paddle.x+a.paddle.width>a.canvas.width&&(a.paddle.x=a.canvas.width-a.paddle.width))}function O(e,t){if(e.startsWith("#")){const l=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),d=parseInt(e.slice(5,7),16),i=Math.min(255,Math.floor(l*t)),n=Math.min(255,Math.floor(a*t)),r=Math.min(255,Math.floor(d*t));return`#${i.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}return e}function R(){document.getElementById("score").textContent=a.score}function H(){document.getElementById("lives").textContent=a.lives}function W(){document.getElementById("level").textContent=a.level}function A(e){switch(e){case"widen":a.paddle.width=Math.min(1.5*a.paddle.width,a.canvas.width/2);break;case"narrow":a.paddle.width=Math.max(.75*a.paddle.width,40);break;case"slowBall":for(let e=0;e<a.ball.balls.length;e++)a.ball.balls[e].dx*=.75,a.ball.balls[e].dy*=.75;break;case"fastBall":for(let e=0;e<a.ball.balls.length;e++)a.ball.balls[e].dx*=1.25,a.ball.balls[e].dy*=1.25;break;case"multiball":!function(){if(a.ball.balls.length>0){const e=a.ball.balls[0];a.ball.balls.push({x:e.x,y:e.y,dx:-e.dx,dy:e.dy,radius:e.radius,color:e.color})}}();break;case"extraLife":a.lives++,H()}a.paddle.isPowerUp=!0,a.paddle.powerUpType=e,a.paddle.powerUpTimer=a.paddle.powerUpMaxTime,function(e){switch(r.style.display="flex",e){case"widen":s.textContent="Wide Paddle";break;case"narrow":s.textContent="Narrow Paddle";break;case"slowBall":s.textContent="Slow Ball";break;case"fastBall":s.textContent="Fast Ball";break;case"multiball":s.textContent="Multi Ball";break;case"extraLife":s.textContent="Extra Life"}}(e)}function j(){let e=0;for(let t=0;t<a.brickColumnCount;t++)for(let l=0;l<a.brickRowCount;l++)a.bricks[t][l].status>0&&e++;0===e&&(y.textContent=a.score,b.textContent=`Level ${a.level} Complete!`,u.style.display="flex",a.running=!1,a.audio.levelUp.play())}function G(){a.running=!1,a.paused=!1,i.classList.add("hidden"),n.classList.add("hidden"),f.classList.add("hidden"),h.textContent="Final Score: "+a.score,p.textContent="Level Reached: "+a.level,c.classList.remove("hidden"),c.classList.add("visible"),a.audio.gameOver&&a.audio.gameOver.play()}function $(){i.classList.add("hidden"),c.classList.remove("visible"),c.classList.add("hidden"),n.classList.add("hidden"),m.innerHTML="",a.leaderboard.sort((e,t)=>t.score-e.score),a.leaderboard.forEach((e,t)=>{const l=document.createElement("tr");l.innerHTML=`\n        <td>${t+1}</td>\n        <td>${e.name}</td>\n        <td>${e.score}</td>\n      `,m.appendChild(l)}),f.classList.remove("hidden"),f.classList.add("visible")}function _(){f.classList.remove("visible"),f.classList.add("hidden"),a.running?(a.paused=!1,i.classList.remove("hidden"),n.classList.remove("hidden")):(c.classList.remove("hidden"),c.classList.add("visible"))}function q(){a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height),function(){const e=a.ctx,t=a.canvas;e.fillStyle=a.backgroundGradient,e.fillRect(0,0,t.width,t.height),e.fillStyle="rgba(255, 255, 255, 0.5)";const l=Date.now()/1e3;for(let a=0;a<50;a++){const d=Math.sin(123.456*a+.1*l)*t.width/2+t.width/2,i=Math.cos(123.456*a+.1*l)*t.height/2+t.height/2,n=1.5*Math.sin(a+.3*l)+2.5;e.beginPath(),e.arc(d,i,n,0,2*Math.PI),e.fill()}}(),function(){const e=a.ctx;for(let t=0;t<a.brickColumnCount;t++)for(let l=0;l<a.brickRowCount;l++){const d=a.bricks[t][l];if(d.status>0){const t=e.createLinearGradient(d.x,d.y,d.x,d.y+d.height);let l=d.color;if(d.hitPoints>1){const e=.7/d.hitPoints;l=O(d.color,e)}t.addColorStop(0,l),t.addColorStop(1,O(l,.7)),e.beginPath(),e.rect(d.x,d.y,d.width,d.height),e.fillStyle=t,e.fill(),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.lineWidth=1,e.stroke(),e.beginPath(),e.rect(d.x+3,d.y+3,d.width-6,3),e.fillStyle="rgba(255, 255, 255, 0.3)",e.fill(),d.hasPowerUp&&(e.beginPath(),e.arc(d.x+d.width/2,d.y+d.height/2,5,0,2*Math.PI),e.fillStyle="rgba(255, 255, 255, 0.7)",e.fill())}}}(),function(){const e=a.ctx;for(let t=0;t<a.powerUps.length;t++){const l=a.powerUps[t];switch(e.save(),e.translate(l.x,l.y),e.rotate(Date.now()/500%(2*Math.PI)),l.type){case"widen":e.fillStyle="#44FF44",e.fillRect(-10,-5,20,10);break;case"narrow":e.fillStyle="#FF4444",e.fillRect(-10,-5,20,10);break;case"slowBall":e.fillStyle="#4444FF",e.beginPath(),e.arc(0,0,8,0,2*Math.PI),e.fill();break;case"fastBall":e.fillStyle="#FF4444",e.beginPath(),e.arc(0,0,8,0,2*Math.PI),e.fill();break;case"multiball":e.fillStyle="#FF44FF",e.beginPath(),e.arc(-4,-4,6,0,2*Math.PI),e.arc(4,4,6,0,2*Math.PI),e.fill();break;case"extraLife":e.fillStyle="#44FFFF",e.beginPath(),e.arc(0,0,8,0,2*Math.PI),e.fill(),e.beginPath(),e.moveTo(-5,0),e.lineTo(5,0),e.moveTo(0,-5),e.lineTo(0,5),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.stroke()}e.restore()}}(),function(){const e=a.ctx,t=a.paddle;e.beginPath(),e.rect(t.x,a.canvas.height-t.height,t.width,t.height);const l=e.createLinearGradient(t.x,a.canvas.height-t.height,t.x,a.canvas.height);let d=t.color;if(t.isPowerUp)switch(t.powerUpType){case"widen":d="#44FF44";break;case"narrow":d="#FF4444";break;case"multiball":d="#FF44FF";break;case"extraLife":d="#44FFFF";break;default:d=t.color}l.addColorStop(0,d),l.addColorStop(1,"#222222"),e.fillStyle=l,e.fill(),e.beginPath(),e.rect(t.x+5,a.canvas.height-t.height+3,t.width-10,5),e.fillStyle="rgba(255, 255, 255, 0.5)",e.fill(),e.beginPath(),e.moveTo(t.x,a.canvas.height-t.height),e.lineTo(t.x,a.canvas.height),e.lineWidth=1,e.strokeStyle="rgba(0, 0, 0, 0.5)",e.stroke(),e.beginPath(),e.moveTo(t.x+t.width,a.canvas.height-t.height),e.lineTo(t.x+t.width,a.canvas.height),e.lineWidth=1,e.strokeStyle="rgba(0, 0, 0, 0.5)",e.stroke()}(),function(){const e=a.ctx;for(let t=0;t<a.ball.balls.length;t++){const l=a.ball.balls[t],d=e.createRadialGradient(l.x-l.radius/3,l.y-l.radius/3,0,l.x,l.y,l.radius);d.addColorStop(0,"#FFFFFF"),d.addColorStop(.3,l.color),d.addColorStop(1,"#000000"),e.beginPath(),e.arc(l.x,l.y,l.radius,0,2*Math.PI),e.fillStyle=d,e.fill(),e.beginPath(),e.arc(l.x-l.radius/2,l.y-l.radius/2,l.radius/4,0,2*Math.PI),e.fillStyle="rgba(255, 255, 255, 0.8)",e.fill()}}()}function D(e){const t=e-a.lastTimestamp;if(a.lastTimestamp=e,!a.paused&&a.running){if(function(e){for(let e=a.ball.balls.length-1;e>=0;e--){const t=a.ball.balls[e];if(t.x+=t.dx,t.y+=t.dy,(t.x+t.radius>a.canvas.width||t.x-t.radius<0)&&(t.dx=-t.dx),t.y-t.radius<0&&(t.dy=-t.dy),t.y+t.radius>a.canvas.height-a.paddle.height)if(t.x>a.paddle.x&&t.x<a.paddle.x+a.paddle.width){t.dy=-t.dy;const e=(t.x-a.paddle.x)/a.paddle.width;t.dx=8*(e-.5),a.audio.paddleHit.play()}else t.y+t.radius>a.canvas.height&&(a.ball.balls.splice(e,1),0===a.ball.balls.length&&(a.lives--,H(),a.audio.lifeLost.play(),a.lives<=0?G():(C(),a.ball.balls=[{x:a.ball.x,y:a.ball.y,dx:a.ball.dx,dy:a.ball.dy,radius:a.ball.radius,color:a.ball.color}])));for(let e=0;e<a.brickColumnCount;e++)for(let l=0;l<a.brickRowCount;l++){const d=a.bricks[e][l];if(d.status>0&&t.x+t.radius>d.x&&t.x-t.radius<d.x+d.width&&t.y+t.radius>d.y&&t.y-t.radius<d.y+d.height){d.hitPoints--,d.hitPoints<=0&&(d.status=0,a.score+=10,R(),d.hasPowerUp&&a.powerUps.push({x:d.x+d.width/2,y:d.y+d.height/2,type:d.powerUpType,speed:2}));const e=d.x+d.width/2,l=d.y+d.height/2;Math.abs(t.x-e)>Math.abs(t.y-l)?t.dx=-t.dx:t.dy=-t.dy,a.audio.brickHit.play(),j()}}}}(),a.rightPressed?a.paddle.x+=a.paddle.dx:a.leftPressed&&(a.paddle.x-=a.paddle.dx),a.paddle.x<0?a.paddle.x=0:a.paddle.x+a.paddle.width>a.canvas.width&&(a.paddle.x=a.canvas.width-a.paddle.width),function(e){for(let e=a.powerUps.length-1;e>=0;e--){const t=a.powerUps[e];t.y+=t.speed,t.y>a.canvas.height-a.paddle.height&&t.y<a.canvas.height&&t.x>a.paddle.x&&t.x<a.paddle.x+a.paddle.width?(A(t.type),a.powerUps.splice(e,1),a.audio.powerUp.play()):t.y>a.canvas.height&&a.powerUps.splice(e,1)}}(),a.paddle.isPowerUp){a.paddle.powerUpTimer-=t;const e=a.paddle.powerUpTimer/a.paddle.powerUpMaxTime;o.style.width=100*e+"%",a.paddle.powerUpTimer<=0&&(("widen"===a.paddle.powerUpType||"narrow"===a.paddle.powerUpType)&&(a.paddle.width=100),a.paddle.isPowerUp=!1,a.paddle.powerUpType=null,r.style.display="none")}q()}requestAnimationFrame(D)}x.addEventListener("click",()=>{d.classList.remove("visible"),d.classList.add("hidden"),i.classList.remove("hidden"),i.classList.add("visible"),n.classList.remove("hidden"),n.classList.add("visible"),P()}),w.addEventListener("click",(function(){a.score=0,a.lives=3,a.level=1,a.baseSpeed=a.startSpeed,C(),a.paddle.x=(a.canvas.width-a.paddle.width)/2,a.ball.balls=[{x:a.ball.x,y:a.ball.y,dx:a.ball.dx,dy:a.ball.dy,radius:a.ball.radius,color:a.ball.color}],S(),R(),H(),W(),c.classList.remove("visible"),c.classList.add("hidden"),i.classList.remove("hidden"),n.classList.remove("hidden"),a.running=!0,a.lastTimestamp=performance.now(),requestAnimationFrame(D)})),v.addEventListener("click",(function(){a.level++,W(),a.baseSpeed+=a.speedIncrease,C(),a.paddle.x=(a.canvas.width-a.paddle.width)/2,a.ball.balls=[{x:a.ball.x,y:a.ball.y,dx:a.ball.dx,dy:a.ball.dy,radius:a.ball.radius,color:a.ball.color}],a.paddle.isPowerUp=!1,a.paddle.powerUpType=null,r.style.display="none",S(),u.style.display="none",a.running=!0,a.lastTimestamp=performance.now(),requestAnimationFrame(D)})),k.addEventListener("click",$),L.addEventListener("click",(function(){const e=g.value.trim()||"Anonymous";a.leaderboard.push({name:e,score:a.score}),a.leaderboard.sort((e,t)=>t.score-e.score),a.leaderboard.length>10&&(a.leaderboard.length=10),$()})),F.addEventListener("click",_),window.addEventListener("load",()=>{d.classList.add("visible"),i.classList.add("hidden"),n.classList.add("hidden"),c.classList.add("hidden"),f.classList.add("hidden"),u.classList.add("hidden")})},function(e,t,l){}]);